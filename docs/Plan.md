# План автоматизации

## Перечень автоматизируемых сценариев:

Валидными данными для тестовых сценариев являются:
- номер карты из 16 чисел: APPROVED карта — 1111 2222 3333 4444

  DECLINED карта — 5555 6666 7777 8888 (для позитивных сценариев отказа)
- месяц в числовом формате из двух цифр от 01 до 12
- год в числовом формате из двух последних цифр. Минимальное значение — текущий год.
- владелец в формате имя-фамилия латиницой в верхнем регистре
- CVC/CVV - 3 цифры

### Позитивные сценарии:
1. Успешная оплата тура через сервис **Payment Gate** после заполнения формы «Оплата по карте» валидными данными и номером карты APPROVED
 
   *Ожидаемый результат*: отправка формы, появление попапа с текстом об успешном одобрении


2. Отправка POST-запроса формы оплаты тура через **Payment Gate** с валидными данными и номером карты APPROVED в теле запроса по адресу http://localhost:9999/payment

   *Ожидаемый результат*: получение кода ответа 200, отображение записи *Approved* в БД


3. Успешная оплата тура через сервис **Credit Gate** после заполнения формы «Оплата по карте» валидными данными и номером карты APPROVED

   *Ожидаемый результат*: отправка формы, появление попапа с текстом об успешном одобрении


4. Отправка POST-запроса формы оплаты тура через **Credit Gate** с валидными данными и номером карты APPROVED в теле запроса по адресу http://localhost:9999/credit

   *Ожидаемый результат*: получение кода ответа 200, отображение записи *Approved* в БД


5. Отклонение оплаты тура через сервис **Payment Gate** после заполнения формы «Оплата по карте» валидными данными и номером карты DECLINED

   *Ожидаемый результат*: отправка формы, появление попапа с текстом об отказе в проведении операции


6. Отправка POST-запроса формы оплаты тура через **Payment Gate** с валидными данными и номером карты DECLINED в теле запроса по адресу http://localhost:9999/payment

   *Ожидаемый результат*: получение кода ответа 200, отображение записи *Declined* в БД


7. Отклонение оплаты тура через сервис **Credit Gate** после заполнения формы «Оплата по карте» валидными данными и номером карты DECLINED

   *Ожидаемый результат*: отправка формы, появление попапа с текстом об отказе в проведении операции


8. Отправка POST-запроса формы оплаты тура через **Credit Gate** с валидными данными и номером карты DECLINED в теле запроса по адресу http://localhost:9999/credit

   *Ожидаемый результат*: получение кода ответа 200, отображение записи *Declined* в БД


9. Отправка заявки через сервис **Payment Gate** с заполением поля **Владелец** значением имя-фамилия на латинице в нижнем регистре и валидными данными в остальных полях

   *Ожидаемый результат*: поле заполняется в верхнем регистре, форма отправляется, появление попапа с текстом об успешном одобрении


10. Отправка заявки через сервис **Credit Gate** с заполением поля **Владелец** значением имя-фамилия на латинице в нижнем регистре и валидными данными в остальных полях

    *Ожидаемый результат*: поле заполняется в верхнем регистре, форма отправляется, появление попапа с текстом об успешном одобрении



### Негативные сценарии:

1. Отправка заявки через сервис **Payment Gate** с заполением поля **Номер карты** несуществующим рандомным номером карты и валидными данными в остальных полях

   *Ожидаемый результат*: отправка формы, появление попапа с текстом об отказе в проведении операции


2. Отправка заявки через сервис **Credit Gate** с заполением поля **Номер карты** несуществующим рандомным номером карты и валидными данными в остальных полях

   *Ожидаемый результат*: отправка формы, появление попапа с текстом об отказе в проведении операции


3. Отправка заявки через сервис **Payment Gate** с заполением поля **Номер карты** несуществующим рандомным номером карты из 15 цифр и валидными данными в остальных полях

   *Ожидаемый результат*: форма не отправляется, под полем ввода **Номер карты** появляется сообщение об ошибке в веденных данных


4. Отправка заявки через сервис **Credit Gate** с заполением поля **Номер карты** несуществующим рандомным номером карты из 15 цифр и валидными данными в остальных полях

   *Ожидаемый результат*: форма не отправляется, под полем ввода **Номер карты** появляется сообщение об ошибке в веденных данных


5. Отправка заявки через сервис **Payment Gate** с пустым полем **Номер карты** и валидными данными в остальных полях

   *Ожидаемый результат*: форма не отправляется, под полем ввода **Номер карты** появляется сообщение о необходимости заполнить поле


6. Отправка заявки через сервис **Credit Gate** с пустым полем **Номер карты** и валидными данными в остальных полях

   *Ожидаемый результат*: форма не отправляется, под полем ввода **Номер карты** появляется сообщение о необходимости заполнить поле



7. Отправка заявки через сервис **Payment Gate** с заполением поля **Месяц** прошлым месяцем, поля год — нынешним годом (скро действия истек месяц назад) и валидными данными в остальных полях

   *Ожидаемый результат*: форма не отправляется, под полем ввода **Месяц** появляется сообщение об ошибке в веденных данных



8. Отправка заявки через сервис **Credit Gate** с заполением поля **Месяц** прошлым месяцем, поля год — нынешним годом (скро действия истек месяц назад) и валидными данными в остальных полях

   *Ожидаемый результат*: форма не отправляется, под полем ввода **Месяц** появляется сообщение об ошибке в веденных данных


9. Отправка заявки через сервис **Payment Gate** с заполением поля **Месяц** значением несуществующего меяца `00` и валидными данными в остальных полях

   *Ожидаемый результат*: форма не отправляется, под полем ввода **Месяц** появляется сообщение об ошибке в веденных данных


10.  Отправка заявки через сервис **Credit Gate** с заполением поля **Месяц** значением несуществующего меяца `00` и валидными данными в остальных полях

     *Ожидаемый результат*: форма не отправляется, под полем ввода **Месяц** появляется сообщение об ошибке в веденных данных


11. Отправка заявки через сервис **Payment Gate** с заполением поля **Месяц** значением несуществующего меяца `13` и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Месяц** появляется сообщение об ошибке в веденных данных


12. Отправка заявки через сервис **Credit Gate** с заполением поля **Месяц** значением несуществующего меяца `13` и валидными данными в остальных полях

    Ожидаемый результат: форма не отправляется, под полем ввода **Месяц** появляется сообщение об ошибке в веденных данных


13. Отправка заявки через сервис **Payment Gate** с незаполненным полем **Месяц** и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Месяц** появляется сообщение о необходимости заполнить поле


14. Отправка заявки через сервис **Credit Gate** с незаполненным полем **Месяц** и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Месяц** появляется сообщение о необходимости заполнить поле


15. Отправка заявки через сервис **Payment Gate** с заполением поля **Год** прошлым годом (скро действия истек год назад) и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Год** появляется сообщение об ошибке в веденных данных


16.  Отправка заявки через сервис **Credit Gate** с заполением поля **Год** прошлым годом (скро действия истек год назад) и валидными данными в остальных полях

     *Ожидаемый результат*: форма не отправляется, под полем ввода **Год** появляется сообщение об ошибке в веденных данных


17. Отправка заявки через сервис **Payment Gate** с незаполненным полем **Год** и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Год** появляется сообщение о необходимости заполнить поле


18.  Отправка заявки через сервис **Credit Gate** с незаполненным полем **Год** и валидными данными в остальных полях

     *Ожидаемый результат*: форма не отправляется, под полем ввода **Год** появляется сообщение о необходимости заполнить поле


19.  Отправка заявки через сервис **Payment Gate** с заполением поля **Владелец** значением имя-фамилия на кириллице и валидными данными в остальных полях

     *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


20. Отправка заявки через сервис **Credit Gate** с заполением поля **Владелец** значением имя-фамилия на кириллице и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


21. Отправка заявки через сервис **Payment Gate** с заполением поля **Владелец** значением из одного слова на латинице и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


22. Отправка заявки через сервис **Credit Gate** с заполением поля **Владелец** значением из одного слова на латинице и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


23. Отправка заявки через сервис **Payment Gate** с заполением поля **Владелец** значением имя-фамилия через дефис на латинице и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


24.  Отправка заявки через сервис **Credit Gate** с заполением поля **Владелец** значением имя-фамилия через дефис на латинице и валидными данными в остальных полях

     *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


25. Отправка заявки через сервис **Payment Gate** с заполением поля **Владелец** значением с цифрами и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


26.  Отправка заявки через сервис **Credit Gate** с заполением поля **Владелец** значением с цифрами и валидными данными в остальных полях

     *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


27. Отправка заявки через сервис **Payment Gate** с заполением поля **Владелец** значением со спецсимволами и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


28. Отправка заявки через сервис **Credit Gate** с заполением поля **Владелец** значением со спецсимволами и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение об ошибке в веденных данных


29. Отправка заявки через сервис **Payment Gate** с заполением поля **Владелец** пробелами и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение о необходимости заполнить поле


30. Отправка заявки через сервис **Credit Gate** с заполением поля **Владелец** пробелами и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение о необходимости заполнить поле


31. Отправка заявки через сервис **Payment Gate** с пустым полем **Владелец** и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение о необходимости заполнить поле


32. Отправка заявки через сервис **Credit Gate** с пустым полем **Владелец** и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **Владелец** появляется сообщение о необходимости заполнить поле


33. Отправка заявки через сервис **Payment Gate** с заполением поля **CVC/CVV** 2-мя цифрами и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **CVC/CVV** появляется сообщение об ошибке в веденных данных


34.  Отправка заявки через сервис **Credit Gate** с заполением поля **CVC/CVV** 2-мя цифрами и валидными данными в остальных полях

     *Ожидаемый результат*: форма не отправляется, под полем ввода **CVC/CVV** появляется сообщение об ошибке в веденных данных


35. Отправка заявки через сервис **Payment Gate** с пустым полем **CVC/CVV** и валидными данными в остальных полях

    *Ожидаемый результат*: форма не отправляется, под полем ввода **CVC/CVV** появляется сообщение о необходимости заполнить поле


36.  Отправка заявки через сервис **Credit Gate** с пустым полем **CVC/CVV** и валидными данными в остальных полях

     *Ожидаемый результат*: форма не отправляется, под полем ввода **CVC/CVV** появляется сообщение о необходимости заполнить поле


37.  Отправка POST-запроса формы оплаты тура через платеж с пустым телом запроса по адресу http://localhost:9999/payment

     Ожидаемый результат: получение кода ответа 400, в БД не появляется запись


38.  Отправка POST-запроса формы оплаты тура через кредит с пустым телом запроса по адресу http://localhost:9999/payment

     Ожидаемый результат: получение кода ответа 400, в БД не появляется запись


## Перечень используемых инструментов:

1. IntelliJ IDEA 2023.1 (Ultimate Edition)
2. Gradle — система сборки и управления зависимостями
3. JUnit 5 — удобная тестовая среда с большим количеством аннотаций для автотестов
4. Selenide — библиотека для написания UI-тестов
5. REST Assured — библиотека для работы с REST-запросами
6. Gson – библиотека для преобразования Java-объектов в текстовый формат JSON
7. Java Faker — библиотека для создания тестовых данных
8. Lombok  — библиотека с большим количеством аннотаций, которые сокращают количество кода и улучшают читаемость
9. Docker — ПО для разработки, тестирования, доставки и запуска веб-приложений в средах с поддержкой контейнеризации
10. MySQL - система управления базами данных
11. PostgreSQL - система управления базами данных
12. Allure  - система репортинга с наглядными отчетами о проведенном тестировании


## Перечень и описание возможных рисков при автоматизации:

1. Нет подробного ТЗ или документации с описанием того, как должна работать система и что является багом. Например, не указано какие символы и в каком формате принимает поле ввода **Владелец**: латиницу, кириллицу, в верхнем регистре и т. д.)
2. После подключения реальной системы есть большая вероятность появления новых дефектов и багов, которые невозможно выявить на этапе тестирования, т. к. один сервис (заглушка) симулирует и **Payment Gate** и **Credit Gate**.
3. После изменений в дизайне сайта многие UI-автотесты придется переписывать, т. к. нет привязки к `test-id`
4. Использование двух БД с разными подходами к хранению данных и их обработке может стать причиной ошибок и сложностей в тестировании
5. Динамические тестовые данные как год и месяц не должны быть захардкожены


## Интервальная оценка с учётом рисков (в часах):
1. Планировании автоматизации тестирования — 7 часов
2. Написание page-objects, data-helper и других тестовых классов,  настройка и подготовка всего необхдимого для написания тест-кейсов — 10-14 часа
3. Написание автотестов — 10-14 часов
4. Создание баг-репортов — 3 часа
5. Создание отчета по итогам тестирования  — 3 часа
6. Создание отчета по итогам автоматизации   — 3 часа

## План сдачи работ:
1. Сдача автотестов — до 25.04.2023
2. Подготовка баг-репортов и отчета по итогам тестирования — до 27.04.2023 г.
3. Подготовка отчета по итогам автоматизации — до 28.04.2023 г.
